#!/bin/sh

#comprobar actualizaciones

case $1 in
	-s) grep -h '^#*[ ]*deb' /etc/apt/sources.list.d/* ;;
	-i) sudo apt install $1 ;;
	-buid) dpkg-deb --build hello_1.0-1 ;;
	-u) sudo apt autoremove $1 ;;
	-f) dpkg-deb -c "$2" ; exit;;
	-c) sudo apt-get clean ; exit;;
	-c) sudo apt-get autoclean ; exit;;
	-Ã±) sudo apt-get check ; exit;;
	-d) sudo dpkg -r $2 ; exit;;
	-P) sudo dpkg -P $2 ; exit;;
	-l) apt list --installed 2>/dev/null | grep ', local' ; exit;;
	-p) purga=$(dpkg --get-selections | awk '/deinstall/ {print $1}') && echo $purga && [ "$(echo 's\nn' | dmenu -p 'quieres purgar? ' )" = 's' ] \
		&& sudo apt purge $purga && exit || exit;;
	-fo) dpkg --force-architecture -i $1 ;; #forzar instalacion con arquitectura ajena
esac
#[ -z "$1" ] && exit
dpkg -I "$1" && [ "$(printf 's\nn' | dmenu -p 'queres instalalo? ' )" = 's' ] \
	&& (sudo dpkg -i "$1" || sudo apt-get install -f)

#apt-cache policy | sed -n 's/.*o=\([^,]\+\).*/\1/p' | uniq
